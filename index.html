<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>Alpenhutten</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta name="color-scheme" content="light only" />
		<meta name="description" content="Alpenhutten" />
		<meta property="og:site_name" content="Alpenhutten" />
		<meta property="og:title" content="Alpenhutten" />
		<meta property="og:type" content="website" />
		<meta property="og:description" content="Alpenhutten" />
		<link href="https://fonts.googleapis.com/css2?display=swap&family=Sono:ital,wght@0,200;0,400;1,200;1,400&family=IBM+Plex+Mono:ital,wght@0,100;0,400;1,100;1,400&family=Roboto+Mono:ital,wght@0,100;0,400;1,100;1,400" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" href="main.css" />
		<noscript><link rel="stylesheet" href="assets/noscript.css" /></noscript>		    
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

	</head>
	<body class="is-loading">
		<div id="wrapper">
			<div id="main">
				<div class="inner">
					<header id="header">
						<h1 id="text01">‚ùñ</h1>
						    <h1 id="text01">Wittepeper</h1>

					</header>
					<section id="home-section">
						<p id="text04">Hier vind je een lijst van <mark><em>alle berghutten</em></mark> in de Alpen.</p>
						
						<p id="text04"> <script>
        async function fetchMarkdownFiles() {
            try {
                const response = await fetch('https://api.github.com/repos/brt100/brt100.github.io/contents');
                const data = await response.json();
                console.log('Fetched file list:', data);

                const fileList = document.getElementById('file-list');
                data.forEach(file => {
                    if (file.type === 'file' && file.name.endsWith('.md')) {
                        const listItem = document.createElement('li');
                        const link = document.createElement('a');
                        link.href = `?file=${file.path}`;
                        link.textContent = file.name.replace('.md', '');
                        listItem.appendChild(link);
                        fileList.appendChild(listItem);
                    }
                });
            } catch (error) {
                console.error('Error fetching the markdown files:', error);
            }
        }

        async function fetchMarkdownContent(filePath) {
            try {
                const response = await fetch(`https://raw.githubusercontent.com/brt100/brt100.github.io/main/${filePath}`);
                const content = await response.text();
                console.log('Fetched file content:', content);
                displayContent(content);
            } catch (error) {
                console.error('Error fetching the markdown content:', error);
            }
        }

        function displayContent(content) {
            const contentDiv = document.getElementById('content');
            // Use the default export from marked
            contentDiv.innerHTML = marked.parse(content);
        }

        function initialize() {
            const urlParams = new URLSearchParams(window.location.search);
            const filePath = urlParams.get('file');

            if (filePath) {
                document.getElementById('list-container').style.display = 'none';
                document.getElementById('text01').innerHTML = '<a href="./">Go back to Homepage</a>';
                fetchMarkdownContent(filePath);
            } else {
                fetchMarkdownFiles();
            }
        }

        initialize();
    </script>
    </p>
					</section>
				</div>
			</div>
		</div>
	</body>
</html>